fi_buy_share_set_variable_higher = {
        set_variable = { 
                name = $ID$_buy_share_price
                value = {
                        fixed_range = {
                                min = 1.05
                                max = 1.5
                        }
                }
        }
}
fi_buy_share_set_variable_middle = {
        set_variable = { 
                name = $ID$_buy_share_price
                value = {
                        fixed_range = {
                                min = 0.95
                                max = 1.05
                        }
                }
        }
}
fi_buy_share_set_variable_lower = {
        set_variable = { 
                name = $ID$_buy_share_price
                value = {
                        fixed_range = {
                                min = 0.5
                                max = 0.95
                        }
                }
        }
}
fi_buy_share_remove_variable = {
        remove_variable = $ID$_buy_share_price
}

fi_buy_share_update_gui = {
        if = {
                limit = { NOT = { has_variable = fi_state_item_number } }
                set_variable = {
                        name = fi_state_item_number
                        value = 0
                }
        }
        if = {
                limit = {
                        has_variable = $ID$_$BUILDING$_number
                }
                change_variable = {
                        name = fi_state_item_number
                        add = var:$ID$_$BUILDING$_number
                }
        }
}
fi_buy_share_update_gui2 = {
        if = {
                limit = { NOT = { has_variable = fi_state_total_number } }
                set_variable = {
                        name = fi_state_total_number
                        value = 0
                }
        }
        if = {
                limit = {
                        has_variable = $ID$_$BUILDING$_number
                }
                change_variable = {
                        name = fi_state_total_number
                        add = var:$ID$_$BUILDING$_number
                }
        }
}

fi_buy_share_effect2 = {
if = {
        limit = { has_variable = 1_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 1
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 2_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 2
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 3_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 3
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 4_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 4
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 5_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 5
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 6_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 6
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 7_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 7
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 8_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 8
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 9_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 9
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 10_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 10
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 11_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 11
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 12_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 12
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 13_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 13
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 14_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 14
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 15_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 15
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 16_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 16
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 17_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 17
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 18_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 18
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 19_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 19
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}
if = {
        limit = { has_variable = 20_$BUILDING$_number }
        random_country = {
                limit = {
                        has_variable = fi_identification
                        var:fi_identification = 20
                        NOT = { this = scope:investor_country }
                }
                scope:investor_country = {
                        change_variable = {
                                name = buy_share_country
                                add = 1
                        }
                }
                trigger_event = { id = fi_share_buying_executer.3 }
        }
}

}


fi_buy_share_effect = {

if = {
                limit = { has_variable = 1_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 1
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 1_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 2_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 2
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 2_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 3_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 3
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 3_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 4_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 4
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 4_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 5_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 5
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 5_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 6_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 6
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 6_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 7_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 7
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 7_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 8_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 8
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 8_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 9_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 9
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 9_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 10_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 10
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 10_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 11_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 11
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 11_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 12_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 12
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 12_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 13_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 13
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 13_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 14_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 14
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 14_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 15_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 15
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 15_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 16_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 16
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 16_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 17_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 17
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 17_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 18_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 18
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 18_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 19_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 19
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 19_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }
if = {
                limit = { has_variable = 20_$BUILDING$_number }
                random_country = {
                        limit = {
                                has_variable = fi_identification
                                var:fi_identification = 20
                                NOT = { this = scope:investor_country }
                        }
                        prev = {
                                set_variable = buy_share_target_state
                                set_variable = {
                                        name = buy_share_counter
                                        value = 1
                                        months = 1
                                }
                                set_variable = 20_$BUILDING$_sell
                        }

                        scope:investor_country = {
                                if = {
                                        limit = {
                                                NOT = { has_variable = buy_share_country }
                                        }
                                        set_variable = {
                                                name = buy_share_country
                                                value = 0
                                        }
                                }
                                change_variable = {
                                        name = buy_share_country
                                        add = 1
                                }
                        }
                        trigger_event = { id = fi_share_buying_executer.1 }
                }
        }




}