namespace = qingqiu_federation

#start event
qingqiu_federation.1 = {
	type = country_event
	placement = ROOT
	title = qingqiu_federation.1.t
	desc = qingqiu_federation.1.d
	flavor = qingqiu_federation.1.f

	duration = 1

	event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/factory_closed"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	trigger = {
	}
	
	option = {
		name = qingqiu_federation.1.a
		add_journal_entry = {
			type = je_qingqiu_reform_into_unitary_state
		}
		add_journal_entry = {
			type = je_qingqiu_reform_into_cooler_federation
		}
		default_option = yes
    }
}

qingqiu_federation.2 = { #Flood
	type = country_event
	placement = ROOT
	
	title = qingqiu_federation.2.t
	desc = qingqiu_federation.2.d
	flavor = qingqiu_federation.2.f
	
	event_image = {
		video = "gfx/event_pictures/unspecific_devastation.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/devastation"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	duration = 1
	
	trigger = {
		game_date >= 1836.2.1
		NOT = { has_global_variable = qin_flood_var }
		any_scope_state = {
			state_region = s:STATE_QINGQIU
		}
	}
	
	immediate = {
		set_global_variable = {
		name = qin_flood_var
		}
		set_global_variable = {
		name = qin_flood_active
		}
		set_variable = {
            name = qin_flood_value
            value = 1
        }
	}
	
	option = {
		name = qingqiu_federation.2.a
		s:STATE_QINGQIU = {
			add_devastation = 70
		}
		s:STATE_SHANGU_SIWANG = {
			add_devastation = 60
		}
		add_modifier = { 
			name = qin_in_brap
			months = -1
		}
		trigger_event = { id = qingqiu_flood.1 days = 20 }
		add_journal_entry = {
			type = je_qingqiu_flood
		}
		default_option = yes
	}
}

qingqiu_federation.3 = { #Federation
	type = country_event
	placement = ROOT
	title = qingqiu_federation.3.t
	desc = qingqiu_federation.3.d
	flavor = qingqiu_federation.3.f
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/signed_contract"
	
	duration = 1
	
	event_image = {
		video = "gfx/event_pictures/unspecific_signed_contract.bk2"
	}
	
	option = {
		remove_modifier = qin_federal_sys
		add_modifier = qin_federal_sys_better
		name = qingqiu_federation.3.a
		default_option = yes
	}
	
}
	
qingqiu_federation.4 = { #Unitary State
	type = country_event
	placement = ROOT
	title = qingqiu_federation.4.t
	desc = qingqiu_federation.4.d
	flavor = qingqiu_federation.4.f
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/election"
	
	duration = 1	
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	event_image = {
		video = "gfx/event_pictures/asia_union_leader.bk2"
	}
	
	immediate = {
		add_modifier = {
			name = qin_slightly_upset
			months = 61
		}
	}
	
	option = {
		remove_modifier = qin_federal_sys
		name = qingqiu_federation.4.a
		default_option = yes
	}
}

qingqiu_yicheng_railway.1 = {
	type = country_event
	placement = ROOT
	title = qingqiu_yicheng_railway.1.t
	desc = qingqiu_yicheng_railway.1.d
	flavor = qingqiu_yicheng_railway.1.f

	event_image = {
		video = "gfx/event_pictures/unspecific_trains.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/trains"
	
	option = {
		s:STATE_DAYAN.region_state:QIN = {
			add_modifier = {
				name = qin_yicheng_railway
				months = 101
			}
		}
	s:STATE_YICHENG.region_state:QIN = {
			add_modifier = {
				name = qin_yicheng_railway
				months = -101
			}
		}
	name = qingqiu_yicheng_railway.1.a
	}
}